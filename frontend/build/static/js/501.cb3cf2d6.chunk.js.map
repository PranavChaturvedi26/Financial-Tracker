{"version":3,"file":"static/js/501.cb3cf2d6.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/chart-column.ts","../node_modules/lucide-react/src/icons/calendar.ts","pages/Analytics.tsx","hooks/useAnalytics.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 3v16a2 2 0 0 0 2 2h16', key: 'c24i48' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n];\n\n/**\n * @component @name ChartColumn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE2YTIgMiAwIDAgMCAyIDJoMTYiIC8+CiAgPHBhdGggZD0iTTE4IDE3VjkiIC8+CiAgPHBhdGggZD0iTTEzIDE3VjUiIC8+CiAgPHBhdGggZD0iTTggMTd2LTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chart-column\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChartColumn = createLucideIcon('chart-column', __iconNode);\n\nexport default ChartColumn;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","import React, { useState, useMemo } from 'react';\nimport { Line, Doughnut, Bar } from 'react-chartjs-2';\nimport { useYearlyTrends, useCategoryBreakdown, useMonthlyOverview } from '../hooks/useAnalytics';\nimport { Calendar, TrendingUp, PieChart, BarChart3 } from 'lucide-react';\nimport '../styles/Analytics.css';\n\nconst Analytics: React.FC = () => {\n  const currentDate = new Date();\n  const [selectedYear, setSelectedYear] = useState(currentDate.getFullYear());\n  const [selectedMonth, setSelectedMonth] = useState(currentDate.getMonth() + 1);\n  const [categoryType, setCategoryType] = useState<'income' | 'expense'>('expense');\n\n  const { data: yearlyData, isLoading: yearlyLoading } = useYearlyTrends(selectedYear);\n  const { data: categoryData, isLoading: categoryLoading } = useCategoryBreakdown(categoryType);\n  const { data: monthlyData, isLoading: monthlyLoading } = useMonthlyOverview(selectedYear, selectedMonth);\n\n  const yearlyChartData = useMemo(() => {\n    if (!yearlyData?.monthlyData) return null;\n\n    return {\n      labels: yearlyData.monthlyData.map(m => m.month),\n      datasets: [\n        {\n          label: 'Income',\n          data: yearlyData.monthlyData.map(m => m.income),\n          borderColor: 'rgb(75, 192, 192)',\n          backgroundColor: 'rgba(75, 192, 192, 0.2)',\n          tension: 0.4,\n        },\n        {\n          label: 'Expense',\n          data: yearlyData.monthlyData.map(m => m.expense),\n          borderColor: 'rgb(255, 99, 132)',\n          backgroundColor: 'rgba(255, 99, 132, 0.2)',\n          tension: 0.4,\n        },\n        {\n          label: 'Balance',\n          data: yearlyData.monthlyData.map(m => m.balance),\n          borderColor: 'rgb(54, 162, 235)',\n          backgroundColor: 'rgba(54, 162, 235, 0.2)',\n          tension: 0.4,\n        },\n      ],\n    };\n  }, [yearlyData]);\n\n  const categoryChartData = useMemo(() => {\n    if (!categoryData || categoryData.length === 0) return null;\n\n    return {\n      labels: categoryData.map(c => c.name),\n      datasets: [\n        {\n          data: categoryData.map(c => c.total),\n          backgroundColor: categoryData.map(c => c.color || '#808080'),\n          borderWidth: 2,\n          borderColor: '#fff',\n        },\n      ],\n    };\n  }, [categoryData]);\n\n  const dailyChartData = useMemo(() => {\n    if (!monthlyData?.dailyData) return null;\n\n    return {\n      labels: monthlyData.dailyData.map(d => \n        new Date(d.date).toLocaleDateString('en-US', { day: '2-digit' })\n      ),\n      datasets: [\n        {\n          label: 'Daily Income',\n          data: monthlyData.dailyData.map(d => d.income),\n          backgroundColor: 'rgba(75, 192, 192, 0.6)',\n        },\n        {\n          label: 'Daily Expense',\n          data: monthlyData.dailyData.map(d => d.expense),\n          backgroundColor: 'rgba(255, 99, 132, 0.6)',\n        },\n      ],\n    };\n  }, [monthlyData]);\n\n  if (yearlyLoading || categoryLoading || monthlyLoading) {\n    return <div className=\"loading\">Loading analytics...</div>;\n  }\n\n  return (\n    <div className=\"analytics\">\n      <div className=\"analytics-header\">\n        <h1>Analytics</h1>\n        <div className=\"filters\">\n          <select \n            value={selectedYear} \n            onChange={(e) => setSelectedYear(Number(e.target.value))}\n            className=\"year-selector\"\n          >\n            {[2022, 2023, 2024, 2025].map(year => (\n              <option key={year} value={year}>{year}</option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"summary-cards\">\n        <div className=\"summary-card\">\n          <div className=\"summary-icon income\">\n            <TrendingUp />\n          </div>\n          <div className=\"summary-content\">\n            <h3>Total Income</h3>\n            <p className=\"summary-value\">${yearlyData?.totalIncome.toFixed(2) || '0.00'}</p>\n            <span className=\"summary-label\">This Year</span>\n          </div>\n        </div>\n\n        <div className=\"summary-card\">\n          <div className=\"summary-icon expense\">\n            <TrendingUp />\n          </div>\n          <div className=\"summary-content\">\n            <h3>Total Expense</h3>\n            <p className=\"summary-value\">${yearlyData?.totalExpense.toFixed(2) || '0.00'}</p>\n            <span className=\"summary-label\">This Year</span>\n          </div>\n        </div>\n\n        <div className=\"summary-card\">\n          <div className=\"summary-icon balance\">\n            <BarChart3 />\n          </div>\n          <div className=\"summary-content\">\n            <h3>Net Balance</h3>\n            <p className=\"summary-value\">${yearlyData?.totalBalance.toFixed(2) || '0.00'}</p>\n            <span className=\"summary-label\">This Year</span>\n          </div>\n        </div>\n\n        <div className=\"summary-card\">\n          <div className=\"summary-icon average\">\n            <Calendar />\n          </div>\n          <div className=\"summary-content\">\n            <h3>Monthly Average</h3>\n            <p className=\"summary-value\">${yearlyData?.averageMonthlyExpense.toFixed(2) || '0.00'}</p>\n            <span className=\"summary-label\">Expense</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"analytics-charts\">\n        <div className=\"chart-container\">\n          <h3>Yearly Trends</h3>\n          {yearlyChartData && (\n            <Line \n              data={yearlyChartData} \n              options={{\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: { position: 'top' as const },\n                  title: { display: false },\n                },\n                scales: {\n                  y: { beginAtZero: true },\n                },\n              }} \n            />\n          )}\n        </div>\n\n        <div className=\"chart-container\">\n          <h3>Category Distribution</h3>\n          <div className=\"chart-controls\">\n            <button \n              className={`tab-btn ${categoryType === 'expense' ? 'active' : ''}`}\n              onClick={() => setCategoryType('expense')}\n            >\n              Expenses\n            </button>\n            <button \n              className={`tab-btn ${categoryType === 'income' ? 'active' : ''}`}\n              onClick={() => setCategoryType('income')}\n            >\n              Income\n            </button>\n          </div>\n          {categoryChartData ? (\n            <Doughnut \n              data={categoryChartData} \n              options={{\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: { position: 'right' as const },\n                },\n              }} \n            />\n          ) : (\n            <div className=\"no-data\">No data available</div>\n          )}\n        </div>\n\n        <div className=\"chart-container full-width\">\n          <h3>Daily Activity - {new Date(selectedYear, selectedMonth - 1).toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</h3>\n          <div className=\"month-selector\">\n            <select \n              value={selectedMonth} \n              onChange={(e) => setSelectedMonth(Number(e.target.value))}\n            >\n              {Array.from({ length: 12 }, (_, i) => i + 1).map(month => (\n                <option key={month} value={month}>\n                  {new Date(selectedYear, month - 1).toLocaleDateString('en-US', { month: 'long' })}\n                </option>\n              ))}\n            </select>\n          </div>\n          {dailyChartData && (\n            <Bar \n              data={dailyChartData} \n              options={{\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                  legend: { position: 'top' as const },\n                },\n                scales: {\n                  y: { beginAtZero: true },\n                },\n              }} \n            />\n          )}\n        </div>\n      </div>\n\n      {categoryData && categoryData.length > 0 && (\n        <div className=\"category-table\">\n          <h3>Category Breakdown - {categoryType === 'expense' ? 'Expenses' : 'Income'}</h3>\n          <table>\n            <thead>\n              <tr>\n                <th>Category</th>\n                <th>Total Amount</th>\n                <th>Transactions</th>\n                <th>Percentage</th>\n              </tr>\n            </thead>\n            <tbody>\n              {categoryData.map((category) => (\n                <tr key={category.id}>\n                  <td>\n                    <span className=\"category-name\" style={{ color: category.color }}>\n                      {category.name}\n                    </span>\n                  </td>\n                  <td>${category.total.toFixed(2)}</td>\n                  <td>{category.count}</td>\n                  <td>\n                    <div className=\"percentage-bar\">\n                      <div \n                        className=\"percentage-fill\"\n                        style={{ \n                          width: `${category.percentage}%`,\n                          backgroundColor: category.color \n                        }}\n                      />\n                      <span>{category.percentage}%</span>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Analytics;","import { useQuery } from '@tanstack/react-query';\nimport { useMemo } from 'react';\nimport api from '../services/api';\nimport { MonthlyOverview, CategoryBreakdown, YearlyTrends, Transaction } from '../types';\n\nexport const useMonthlyOverview = (year?: number, month?: number) => {\n  const currentDate = new Date();\n  const queryYear = year || currentDate.getFullYear();\n  const queryMonth = month || currentDate.getMonth() + 1;\n\n  return useQuery({\n    queryKey: ['analytics', 'monthly', queryYear, queryMonth],\n    queryFn: async () => {\n      const response = await api.get<MonthlyOverview>('/analytics/monthly', {\n        params: { year: queryYear, month: queryMonth }\n      });\n      return response.data;\n    },\n  });\n};\n\nexport const useCategoryBreakdown = (type: 'income' | 'expense' = 'expense', startDate?: string, endDate?: string) => {\n  return useQuery({\n    queryKey: ['analytics', 'categories', type, startDate, endDate],\n    queryFn: async () => {\n      const response = await api.get<CategoryBreakdown[]>('/analytics/categories', {\n        params: { type, startDate, endDate }\n      });\n      return response.data;\n    },\n  });\n};\n\nexport const useYearlyTrends = (year?: number) => {\n  const currentYear = year || new Date().getFullYear();\n\n  return useQuery({\n    queryKey: ['analytics', 'yearly', currentYear],\n    queryFn: async () => {\n      const response = await api.get<YearlyTrends>('/analytics/yearly', {\n        params: { year: currentYear }\n      });\n      return response.data;\n    },\n  });\n};\n\nexport const useRecentTransactions = (limit: number = 10) => {\n  return useQuery({\n    queryKey: ['analytics', 'recent', limit],\n    queryFn: async () => {\n      const response = await api.get<Transaction[]>('/analytics/recent', {\n        params: { limit }\n      });\n      return response.data;\n    },\n  });\n};\n\nexport const useAnalyticsSummary = () => {\n  const monthlyOverview = useMonthlyOverview();\n  const expenseBreakdown = useCategoryBreakdown('expense');\n  const incomeBreakdown = useCategoryBreakdown('income');\n  const yearlyTrends = useYearlyTrends();\n\n  const summary = useMemo(() => {\n    if (!monthlyOverview.data || !yearlyTrends.data) {\n      return null;\n    }\n\n    return {\n      currentMonth: monthlyOverview.data.overview,\n      yearToDate: {\n        income: yearlyTrends.data.totalIncome,\n        expense: yearlyTrends.data.totalExpense,\n        balance: yearlyTrends.data.totalBalance,\n      },\n      averages: {\n        monthlyIncome: yearlyTrends.data.averageMonthlyIncome,\n        monthlyExpense: yearlyTrends.data.averageMonthlyExpense,\n      },\n      topExpenseCategories: expenseBreakdown.data?.slice(0, 3) || [],\n      topIncomeCategories: incomeBreakdown.data?.slice(0, 3) || [],\n    };\n  }, [monthlyOverview.data, yearlyTrends.data, expenseBreakdown.data, incomeBreakdown.data]);\n\n  return {\n    summary,\n    loading: monthlyOverview.isLoading || yearlyTrends.isLoading,\n    error: monthlyOverview.error || yearlyTrends.error,\n  };\n};"],"names":["ChartColumn","createLucideIcon","d","key","Calendar","width","height","x","y","rx","Analytics","currentDate","Date","selectedYear","setSelectedYear","useState","getFullYear","selectedMonth","setSelectedMonth","getMonth","categoryType","setCategoryType","data","yearlyData","isLoading","yearlyLoading","useYearlyTrends","categoryData","categoryLoading","useCategoryBreakdown","monthlyData","monthlyLoading","useMonthlyOverview","yearlyChartData","useMemo","labels","map","m","month","datasets","label","income","borderColor","backgroundColor","tension","expense","balance","categoryChartData","length","c","name","total","color","borderWidth","dailyChartData","dailyData","date","toLocaleDateString","day","_jsx","className","children","_jsxs","value","onChange","e","Number","target","year","TrendingUp","totalIncome","toFixed","totalExpense","BarChart3","totalBalance","averageMonthlyExpense","Line","options","responsive","maintainAspectRatio","plugins","legend","position","title","display","scales","beginAtZero","concat","onClick","Doughnut","Array","from","_","i","Bar","category","style","count","percentage","id","queryYear","queryMonth","useQuery","queryKey","queryFn","async","api","get","params","type","arguments","undefined","startDate","endDate","currentYear","useRecentTransactions","limit"],"sourceRoot":""}