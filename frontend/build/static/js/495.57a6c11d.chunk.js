/*! For license information please see 495.57a6c11d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[495],{4495:(a,e,s)=>{s.r(e),s.d(e,{default:()=>u});var n=s(5043),t=s(4919),i=s(7784);const l=(0,i.A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),o=(0,i.A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),d=(0,i.A)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),c=(0,i.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),r=(0,i.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var h=s(6058),v=s(7304),m=s(8412),p=s(579);v.t1.register(v.PP,v.kc,v.FN,v.No,v.E8,v.hE,v.m_,v.s$,v.Bs);const u=()=>{var a,e,s,i,v,u,y,x,g,j;const{data:N,isLoading:b}=(0,m.mz)(),{data:w,isLoading:k}=(0,m.UU)(),{data:A,isLoading:D}=(0,m.Vz)("expense"),{data:C,isLoading:f}=(0,m.Ae)(5),q=a=>(null!==a&&void 0!==a?a:0).toFixed(2),M=null!==(a=null===N||void 0===N||null===(e=N.overview)||void 0===e?void 0:e.balance)&&void 0!==a?a:0,L=null!==(s=null===N||void 0===N||null===(i=N.overview)||void 0===i?void 0:i.totalIncome)&&void 0!==s?s:0,z=null!==(v=null===N||void 0===N||null===(u=N.overview)||void 0===u?void 0:u.totalExpense)&&void 0!==v?v:0,F=(y=null===N||void 0===N||null===(x=N.overview)||void 0===x?void 0:x.incomeCount,g=null===N||void 0===N||null===(j=N.overview)||void 0===j?void 0:j.expenseCount,(0,n.useMemo)(()=>null!==N&&void 0!==N&&N.dailyData?{labels:N.dailyData.map(a=>new Date(a.date).toLocaleDateString("en-US",{day:"2-digit",month:"short"})),datasets:[{label:"Income",data:N.dailyData.map(a=>a.income),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4},{label:"Expense",data:N.dailyData.map(a=>a.expense),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.4}]}:null,[N])),I=(0,n.useMemo)(()=>A?{labels:A.slice(0,5).map(a=>a.name),datasets:[{data:A.slice(0,5).map(a=>a.total),backgroundColor:A.slice(0,5).map(a=>a.color||"#808080"),borderWidth:1}]}:null,[A]),E=(0,n.useMemo)(()=>null!==w&&void 0!==w&&w.monthlyData?{labels:w.monthlyData.map(a=>a.month),datasets:[{label:"Income",data:w.monthlyData.map(a=>a.income),backgroundColor:"rgba(75, 192, 192, 0.6)"},{label:"Expense",data:w.monthlyData.map(a=>a.expense),backgroundColor:"rgba(255, 99, 132, 0.6)"}]}:null,[w]);return b||k||D?(0,p.jsx)("div",{className:"loading",children:"Loading dashboard..."}):(0,p.jsxs)("div",{className:"dashboard",children:[(0,p.jsx)("h1",{children:"Dashboard"}),(0,p.jsxs)("div",{className:"stats-grid",children:[(0,p.jsxs)("div",{className:"stat-card income",children:[(0,p.jsx)("div",{className:"stat-icon",children:(0,p.jsx)(t.A,{})}),(0,p.jsxs)("div",{className:"stat-content",children:[(0,p.jsx)("h3",{children:"Total Income"}),(0,p.jsxs)("p",{className:"stat-value",children:["$",q(L)]}),(0,p.jsxs)("span",{className:"stat-change positive",children:[(0,p.jsx)(l,{size:16}),(null===N||void 0===N?void 0:N.overview.incomeCount)||0," transactions"]})]})]}),(0,p.jsxs)("div",{className:"stat-card expense",children:[(0,p.jsx)("div",{className:"stat-icon",children:(0,p.jsx)(o,{})}),(0,p.jsxs)("div",{className:"stat-content",children:[(0,p.jsx)("h3",{children:"Total Expense"}),(0,p.jsxs)("p",{className:"stat-value",children:["$",q(z)]}),(0,p.jsxs)("span",{className:"stat-change negative",children:[(0,p.jsx)(d,{size:16}),(null===N||void 0===N?void 0:N.overview.expenseCount)||0," transactions"]})]})]}),(0,p.jsxs)("div",{className:"stat-card balance",children:[(0,p.jsx)("div",{className:"stat-icon",children:(0,p.jsx)(c,{})}),(0,p.jsxs)("div",{className:"stat-content",children:[(0,p.jsx)("h3",{children:"Net Balance"}),(0,p.jsxs)("p",{className:"stat-value",children:["$",q(M)]}),(0,p.jsxs)("span",{className:"stat-change ".concat(M>=0?"positive":"negative"),children:[(0,p.jsx)(r,{size:16}),M>=0?"Profit":"Loss"]})]})]})]}),(0,p.jsxs)("div",{className:"charts-grid",children:[(0,p.jsxs)("div",{className:"chart-card",children:[(0,p.jsx)("h3",{children:"Monthly Trend"}),F&&(0,p.jsx)(h.N1,{data:F,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}}})]}),(0,p.jsxs)("div",{className:"chart-card",children:[(0,p.jsx)("h3",{children:"Expense Categories"}),I&&(0,p.jsx)(h.Fq,{data:I,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}})]}),(0,p.jsxs)("div",{className:"chart-card full-width",children:[(0,p.jsx)("h3",{children:"Yearly Overview"}),E&&(0,p.jsx)(h.yP,{data:E,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})]})]}),(0,p.jsxs)("div",{className:"recent-transactions",children:[(0,p.jsx)("h3",{children:"Recent Transactions"}),(0,p.jsx)("div",{className:"transaction-list",children:null===C||void 0===C?void 0:C.map(a=>(0,p.jsxs)("div",{className:"transaction-item",children:[(0,p.jsxs)("div",{className:"transaction-info",children:[(0,p.jsx)("span",{className:"transaction-category",children:a.category_name}),(0,p.jsx)("span",{className:"transaction-description",children:a.description}),(0,p.jsx)("span",{className:"transaction-date",children:new Date(a.transaction_date).toLocaleDateString()})]}),(0,p.jsxs)("span",{className:"transaction-amount ".concat(a.type),children:["income"===a.type?"+":"-","$",a.amount]})]},a.id))})]})]})}},8412:(a,e,s)=>{s.d(e,{Ae:()=>d,UU:()=>o,Vz:()=>l,mz:()=>i});var n=s(2532),t=(s(5043),s(8677));const i=(a,e)=>{const s=new Date,i=a||s.getFullYear(),l=e||s.getMonth()+1;return(0,n.I)({queryKey:["analytics","monthly",i,l],queryFn:async()=>(await t.A.get("/analytics/monthly",{params:{year:i,month:l}})).data})},l=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"expense",e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return(0,n.I)({queryKey:["analytics","categories",a,e,s],queryFn:async()=>(await t.A.get("/analytics/categories",{params:{type:a,startDate:e,endDate:s}})).data})},o=a=>{const e=a||(new Date).getFullYear();return(0,n.I)({queryKey:["analytics","yearly",e],queryFn:async()=>(await t.A.get("/analytics/yearly",{params:{year:e}})).data})},d=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return(0,n.I)({queryKey:["analytics","recent",a],queryFn:async()=>(await t.A.get("/analytics/recent",{params:{limit:a}})).data})}}}]);
//# sourceMappingURL=495.57a6c11d.chunk.js.map