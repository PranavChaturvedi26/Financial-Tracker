/*! For license information please see 501.cb3cf2d6.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[501],{501:(a,e,s)=>{s.r(e),s.d(e,{default:()=>m});var n=s(5043),l=s(6058),t=s(8412),r=s(4919),c=s(7784);const i=(0,c.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),o=(0,c.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var d=s(579);const m=()=>{const a=new Date,[e,s]=(0,n.useState)(a.getFullYear()),[c,m]=(0,n.useState)(a.getMonth()+1),[h,y]=(0,n.useState)("expense"),{data:x,isLoading:u}=(0,t.UU)(e),{data:p,isLoading:j}=(0,t.Vz)(h),{data:g,isLoading:v}=(0,t.mz)(e,c),b=(0,n.useMemo)(()=>null!==x&&void 0!==x&&x.monthlyData?{labels:x.monthlyData.map(a=>a.month),datasets:[{label:"Income",data:x.monthlyData.map(a=>a.income),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4},{label:"Expense",data:x.monthlyData.map(a=>a.expense),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",tension:.4},{label:"Balance",data:x.monthlyData.map(a=>a.balance),borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4}]}:null,[x]),N=(0,n.useMemo)(()=>p&&0!==p.length?{labels:p.map(a=>a.name),datasets:[{data:p.map(a=>a.total),backgroundColor:p.map(a=>a.color||"#808080"),borderWidth:2,borderColor:"#fff"}]}:null,[p]),k=(0,n.useMemo)(()=>null!==g&&void 0!==g&&g.dailyData?{labels:g.dailyData.map(a=>new Date(a.date).toLocaleDateString("en-US",{day:"2-digit"})),datasets:[{label:"Daily Income",data:g.dailyData.map(a=>a.income),backgroundColor:"rgba(75, 192, 192, 0.6)"},{label:"Daily Expense",data:g.dailyData.map(a=>a.expense),backgroundColor:"rgba(255, 99, 132, 0.6)"}]}:null,[g]);return u||j||v?(0,d.jsx)("div",{className:"loading",children:"Loading analytics..."}):(0,d.jsxs)("div",{className:"analytics",children:[(0,d.jsxs)("div",{className:"analytics-header",children:[(0,d.jsx)("h1",{children:"Analytics"}),(0,d.jsx)("div",{className:"filters",children:(0,d.jsx)("select",{value:e,onChange:a=>s(Number(a.target.value)),className:"year-selector",children:[2022,2023,2024,2025].map(a=>(0,d.jsx)("option",{value:a,children:a},a))})})]}),(0,d.jsxs)("div",{className:"summary-cards",children:[(0,d.jsxs)("div",{className:"summary-card",children:[(0,d.jsx)("div",{className:"summary-icon income",children:(0,d.jsx)(r.A,{})}),(0,d.jsxs)("div",{className:"summary-content",children:[(0,d.jsx)("h3",{children:"Total Income"}),(0,d.jsxs)("p",{className:"summary-value",children:["$",(null===x||void 0===x?void 0:x.totalIncome.toFixed(2))||"0.00"]}),(0,d.jsx)("span",{className:"summary-label",children:"This Year"})]})]}),(0,d.jsxs)("div",{className:"summary-card",children:[(0,d.jsx)("div",{className:"summary-icon expense",children:(0,d.jsx)(r.A,{})}),(0,d.jsxs)("div",{className:"summary-content",children:[(0,d.jsx)("h3",{children:"Total Expense"}),(0,d.jsxs)("p",{className:"summary-value",children:["$",(null===x||void 0===x?void 0:x.totalExpense.toFixed(2))||"0.00"]}),(0,d.jsx)("span",{className:"summary-label",children:"This Year"})]})]}),(0,d.jsxs)("div",{className:"summary-card",children:[(0,d.jsx)("div",{className:"summary-icon balance",children:(0,d.jsx)(i,{})}),(0,d.jsxs)("div",{className:"summary-content",children:[(0,d.jsx)("h3",{children:"Net Balance"}),(0,d.jsxs)("p",{className:"summary-value",children:["$",(null===x||void 0===x?void 0:x.totalBalance.toFixed(2))||"0.00"]}),(0,d.jsx)("span",{className:"summary-label",children:"This Year"})]})]}),(0,d.jsxs)("div",{className:"summary-card",children:[(0,d.jsx)("div",{className:"summary-icon average",children:(0,d.jsx)(o,{})}),(0,d.jsxs)("div",{className:"summary-content",children:[(0,d.jsx)("h3",{children:"Monthly Average"}),(0,d.jsxs)("p",{className:"summary-value",children:["$",(null===x||void 0===x?void 0:x.averageMonthlyExpense.toFixed(2))||"0.00"]}),(0,d.jsx)("span",{className:"summary-label",children:"Expense"})]})]})]}),(0,d.jsxs)("div",{className:"analytics-charts",children:[(0,d.jsxs)("div",{className:"chart-container",children:[(0,d.jsx)("h3",{children:"Yearly Trends"}),b&&(0,d.jsx)(l.N1,{data:b,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0}}}})]}),(0,d.jsxs)("div",{className:"chart-container",children:[(0,d.jsx)("h3",{children:"Category Distribution"}),(0,d.jsxs)("div",{className:"chart-controls",children:[(0,d.jsx)("button",{className:"tab-btn ".concat("expense"===h?"active":""),onClick:()=>y("expense"),children:"Expenses"}),(0,d.jsx)("button",{className:"tab-btn ".concat("income"===h?"active":""),onClick:()=>y("income"),children:"Income"})]}),N?(0,d.jsx)(l.nu,{data:N,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}}):(0,d.jsx)("div",{className:"no-data",children:"No data available"})]}),(0,d.jsxs)("div",{className:"chart-container full-width",children:[(0,d.jsxs)("h3",{children:["Daily Activity - ",new Date(e,c-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})]}),(0,d.jsx)("div",{className:"month-selector",children:(0,d.jsx)("select",{value:c,onChange:a=>m(Number(a.target.value)),children:Array.from({length:12},(a,e)=>e+1).map(a=>(0,d.jsx)("option",{value:a,children:new Date(e,a-1).toLocaleDateString("en-US",{month:"long"})},a))})}),k&&(0,d.jsx)(l.yP,{data:k,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})]})]}),p&&p.length>0&&(0,d.jsxs)("div",{className:"category-table",children:[(0,d.jsxs)("h3",{children:["Category Breakdown - ","expense"===h?"Expenses":"Income"]}),(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Category"}),(0,d.jsx)("th",{children:"Total Amount"}),(0,d.jsx)("th",{children:"Transactions"}),(0,d.jsx)("th",{children:"Percentage"})]})}),(0,d.jsx)("tbody",{children:p.map(a=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("span",{className:"category-name",style:{color:a.color},children:a.name})}),(0,d.jsxs)("td",{children:["$",a.total.toFixed(2)]}),(0,d.jsx)("td",{children:a.count}),(0,d.jsx)("td",{children:(0,d.jsxs)("div",{className:"percentage-bar",children:[(0,d.jsx)("div",{className:"percentage-fill",style:{width:"".concat(a.percentage,"%"),backgroundColor:a.color}}),(0,d.jsxs)("span",{children:[a.percentage,"%"]})]})})]},a.id))})]})]})]})}},8412:(a,e,s)=>{s.d(e,{Ae:()=>i,UU:()=>c,Vz:()=>r,mz:()=>t});var n=s(2532),l=(s(5043),s(8677));const t=(a,e)=>{const s=new Date,t=a||s.getFullYear(),r=e||s.getMonth()+1;return(0,n.I)({queryKey:["analytics","monthly",t,r],queryFn:async()=>(await l.A.get("/analytics/monthly",{params:{year:t,month:r}})).data})},r=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"expense",e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return(0,n.I)({queryKey:["analytics","categories",a,e,s],queryFn:async()=>(await l.A.get("/analytics/categories",{params:{type:a,startDate:e,endDate:s}})).data})},c=a=>{const e=a||(new Date).getFullYear();return(0,n.I)({queryKey:["analytics","yearly",e],queryFn:async()=>(await l.A.get("/analytics/yearly",{params:{year:e}})).data})},i=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return(0,n.I)({queryKey:["analytics","recent",a],queryFn:async()=>(await l.A.get("/analytics/recent",{params:{limit:a}})).data})}}}]);
//# sourceMappingURL=501.cb3cf2d6.chunk.js.map